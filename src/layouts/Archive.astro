---
import { CollectionEntry, getCollection } from 'astro:content'
import baseUrl from '../components/baseUrl.js';
import PaginationDummy from '../components/PaginationDummy.astro';
import PostPreviewGrid from '../components/PostPreviewGrid.astro';
import ArchiveIndex from './ArchiveIndex.astro';

interface Props {
	data: CollectionEntry<'posts'>[];
	title: string;
}

const { data, title } = Astro.props
console.log(Astro.url)
---

<ArchiveIndex title={ title }>
	<PostPreviewGrid posts={ data.slice(0, 10) } />
	<PaginationDummy lastPage={ Math.ceil(data.length / 10) } url={ baseUrl((Astro.url.pathname + '/page/2').replace("//", "/")) } />
</ArchiveIndex>
