---
import { CollectionEntry, getCollection } from 'astro:content'
import relativeUrl from '../components/urlHelper.js';
import PaginationDummy from '../components/PaginationDummy.astro';
import PostPreviewGrid from '../components/PostPreviewGrid.astro';
import ArchiveIndex from './ArchiveIndex.astro';

interface Props {
	data: CollectionEntry<'posts'>[];
	title: string;
}

const { data, title } = Astro.props
// console.log(Astro.url)
---

<ArchiveIndex title={ title }>
	<PostPreviewGrid posts={ data.slice(0, 10) } />
	<PaginationDummy lastPage={ Math.ceil(data.length / 10) } url={ Astro.url.pathname.replace('/blog/', '') + '/page/2' } />
</ArchiveIndex>
