---
import getTags from '../getTags'
import Archive from '../../../layouts/Archive.astro'

export async function getStaticPaths() {
	const tags = await getTags()
	
	return Object.entries(tags).map(([ id, data ]) => ({
		params: { tag: id },
		props: { ...data }
	}))
}

const { posts, name, description } = Astro.props;
const title = `Tag: ${name}`
---

<Archive data={ posts } title={ title } description={ description } />
