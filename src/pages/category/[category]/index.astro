---
import { getCategories } from '../../../components/getPosts.js'
import Archive from '../../../layouts/Archive.astro'

export async function getStaticPaths() {
	const categories = await getCategories()

	return Object.entries(categories).map(([ id, data ]) => ({
		params: { category: id },
		props: { ...data }
	}))
}

const { posts, name, description } = Astro.props;
const title = `Category: ${name}` 
---

<Archive data={ posts } title={ title } description={ description } />
