---
import getYears from './getYear.ts'
import Archive from '../../layouts/Archive.astro'

export async function getStaticPaths() {
	const years = await getYears()

	return Object.entries(years).map(([year, posts]) => ({
		params: { year },
		props: { year, posts }
	}))
}

const { posts, year } = Astro.props;
const title = `Year: ${year}`
---

<Archive data={ posts } title={ title } />
